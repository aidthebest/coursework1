## План автоматизации тестирования отправки формы оплаты "Путешествие дня"

Настоящий план автоматизации предполагает проведение функционального тестирования блока оплаты
методом серого ящика.
Будет произведена проверка формы оплаты, включающая в себя позитивные и негативные сценарии
для предоставленных тестовых данных как в случае внесения допустимых значений полей, так и в случае
целенаправленного вода пустых и некорректно заполненных полей

В ходе тестирования планируется провести:

- Тестирование формы оплаты двумя способами

  Будет произведена проверка формы оплаты, включающая в себя позитивные и негативные сценарии
  для предоставленных тестовых данных как в случае внесения допустимых значений полей, так и в случае
  целенаправленного вода пустых и некорректно заполненных полей

## 1. Сценарии тестирования

Общие предусловия:
1. Запустить базы данных PostgeSQL и MySQL
2. Запустить приложение покупки тура на порту 8080
3. Запустить имитацию банковского сервиса
4. Открыть окно браузера на странице по адресу http://localhost:8080/

Валидными данными принимаем:
1. Номер карты: 4444 4444 4444 4441, 4444 4444 4444 4442
2. Месяц: от следующего за текущим до 12 включительно в формате "MM"
3. Владелец: более 2х латинских букв без пробелов, цифр, спецсимволов
4. CVC/CVV: 3 произвольные цифры
5. Год: текущий год +0-5 лет

Невалидными данными принимаем:
1. Номер карты: сгенерированный номер карты, отличающийся от формата "**** **** **** ****"
2. Месяц: до 01 и после 12
3. Владелец: менее 2х символов, символы, отличные от латинских, наличие спецсимволов, наличие цифр
4. CVC/CVV: содержит менее трех цифр
5. Год: до текущего года включительно, позднее текущего года +6 лет

### Позитивные сценарии:

1. Отправка корректно заполненной формы "Купить":
- Шаги - все поля формы "Купить" заполнены корректными валидными данными, номер карты 4444 4444 4444 4441
- ОР - покупка тура совершена, сообшение системы "Успешно! Операция одобрена Банком.", в базе данных появилась соответствующая запись.

2. Отправка корректно заполненной формы "Купить в кредит":
- Шаги - все поля формы "Купить в кредит" заполнены корректными валидными данными, номер карты 4444 4444 4444 4441
- ОР - покупка тура совершена, сообшение системы "Успешно! Операция одобрена Банком." в базе данных появилась соответствующая запись.

### Негативные сценарии:

Отправка различных вариантов некорректно заполненной формы "Купить":

1. Все поля пусты:
- Шаги - Оставить все поля формы "Купить" пустыми и нажать кнопку "Продолжить"
- ОР - Сообщения системы о неправильном формате ввода полей "Номер карты", "Месяц",
  -"Год", "CVCCVV" и обязательного для заполнения поля "Владелец", запись в БД отсутствует.

2. Указан номер заблокированной карты:
- Шаги:
  1. Ввести номер карты 4444 4444 4444 44442
  2. Заполнить остальные поля валидными данными
  3. Нажать кнопку "Продолжить"
- ОР - покупка тура не совершена, сообщение системы "Ошибка! Банк отказал в проведении операции.", в базе данных появилась соответствующая запись.

3. Указан некорректный номер карты:
- Шаги:
  1. Ввести некорретный номер карты (отличный от формата)
  2. Заполнить остальные поля валидными данными
  3. Нажать кнопку "Продолжить"
-ОР - отправка формы не состоялась, сообщение системы "Неверный формат"

4. Указан невалидный номер карты:
- Шаги:
  1. Ввести сгенерированный корректный номер карты
  2. Заполнить остальные поля валидными данными
  3. Нажать кнопку "Продолжить"
- ОР - покупка тура не совершена, сообщение системы "Ошибка! Банк отказал в проведении операции.", запись в базе данных не появилась.

5. Поле Номер карты не заполнено:
- Шаги:
  1. Оставить поле Номер карты незаполненным
  2. Заполнить остальные поля валидными данными
  3. Нажать кнопку "Продолжить"
- ОР - покупка тура не совершена, сообщение системы "Неверный формат"

6. Поле Владелец заполнено невалидными данными:
- Шаги:
  1. Ввести сгенерированное невалидное значение для поля Владелец
  2. Заполнить остальные поля валидными данными
  3. Нажать кнопку "Продолжить"
     -ОР - отправка формы не состоялась, сообщение системы "Неверный формат"

7. Поле Владелец не заполнено:
- Шаги:
  1. Оставить поле Владелец
  2. Заполнить остальные поля валидными данными
  3. Нажать кнопку "Продолжить"
     -ОР - отправка формы не состоялась, сообщение системы "Поле обязательно для заполнения"

8. Поле CVC/CVV заполнено невалидными данными:
- Шаги:
  1. Ввести невалидное значение для поля CVC/CVV
  2. Заполнить остальные поля валидными данными
  3. Нажать кнопку "Продолжить"
     -ОР - отправка формы не состоялась, сообщение системы "Неверный формат"

9. Поле CVC/CVV не заполнено:
- Шаги:
  1. Оставить поле CVC/CVV незаполненным
  2. Заполнить остальные поля валидными данными
  3. Нажать кнопку "Продолжить"
     -ОР - отправка формы не состоялась, сообщение системы "Неверный формат"

10. Поле Месяц заполнено невалидными данными:
- Шаги:
  1. Ввести в поле Месяц значение "13"
  2. Заполнить остальные поля валидными данными
  3. Нажать кнопку "Продолжить"
     -ОР - отправка формы не состоялась, сообщение системы "Неверно указан срок действия карты"

11. Поле Месяц заполнено невалидными данными:
- Шаги:
  1. Ввести в поле Месяц значение "00"
  2. Заполнить остальные поля валидными данными
  3. Нажать кнопку "Продолжить"
     -ОР - отправка формы не состоялась, сообщение системы "Неверно указан срок действия карты"

12. Поле Месяц заполнено невалидными данными:
- Шаги:
  1. Ввести в поле Месяц любой месяц, предшествующий текущему 
  2. Ввести в поле Год текущий год
  3. Заполнить остальные поля валидными данными
  4. Нажать кнопку "Продолжить"
     -ОР - отправка формы не состоялась, сообщение системы "Истек срок действия карты"
  
13. Поле Месяц не заполнено:
- Шаги:
  1. Оставить поле Месяц незаполненным
  2. Заполнить остальные поля валидными данными
  3. Нажать кнопку "Продолжить"
     -ОР - отправка формы не состоялась, сообщение системы "Неверный формат"

14. Поле Год заполнено невалидными данными:
- Шаги:
  1. Ввести сгенерированный год более 5 лет от текущей даты
  2. Заполнить остальные поля валидными данными
  3. Нажать кнопку "Продолжить"
-ОР - отправка формы не состоялась, сообщение системы "Неверно указан срок действия карты"

15. Поле Год не заполнено:
- Шаги:
  1. Оставить поле Год незаполненным
  2. Заполнить остальные поля валидными данными
  3. Нажать кнопку "Продолжить"
     -ОР - отправка формы не состоялась, сообщение системы "Неверный формат"

16. Поле Год заполнено невалидными данными:
- Шаги:
  1. Ввести любой предыдущий год в поле "Год"
  2. Заполнить остальные поля валидными данными
  3. Нажать кнопку "Продолжить"
     -ОР - отправка формы не состоялась, сообщение системы "Истек срок действия карты"

17. Повторное заполнение формы после отправки валидных данных
- Шаги:
  1. Заполнить все поля формы валидными данными
  2. Нажать кнопку Отправить
  3. Удалить все данные из заполненных полей
       -ОР - Сообщения об ошибках остутствуют

18. Повторное заполнение формы после отправки невалидных данных
- Шаги:
  1. Заполнить произвольное количество полей (но не меньше 1) невалидными данными
  2. Нажать кнопку Отправить
  3. Удалить все данные из заполненных полей
     -ОР - Сообщения об ошибках отсутствуют


Отправка различных вариантов некорректно заполненной формы "Купить в кредит":

1. Отпрака корректно заполненной формы "Купить":
- Шаги - все поля формы "Купить" заполнены корректными валидными данными, номер карты 4444 4444 4444 4441
- ОР - покупка тура совершена, сообшение системы "Успешно! Операция одобрена Банком.", в базе данных появилась соответствующая запись.

2. Отправка корректно заполненной формы "Купить в кредит":
- Шаги - все поля формы "Купить в кредит" заполнены корректными валидными данными, номер карты 4444 4444 4444 4441
- ОР - покупка тура совершена, сообшение системы "Успешно! Операция одобрена Банком." в базе данных появилась соответствующая запись.

### Негативные сценарии:

Отправка различных вариантов некорректно заполненной формы "Купить":

1. Все поля пусты:
- Шаги - Оставить все поля формы "Купить" пустыми и нажать кнопку "Продолжить"
- ОР - Сообщения системы о неправильном формате ввода полей "Номер карты", "Месяц",
  -"Год", "CVCCVV" и обязательного для заполнения поля "Владелец", запись в БД отсутствует.

2. Указан номер заблокированной карты:
- Шаги:
  1. Ввести номер карты 4444 4444 4444 44442
  2. Заполнить остальные поля валидными данными
  3. Нажать кнопку "Продолжить"
- ОР - покупка тура не совершена, сообщение системы "Ошибка! Банк отказал в проведении операции.", в базе данных появилась соответствующая запись.

3. Указан некорректный номер карты:
- Шаги:
  1. Ввести некорретный номер карты (отличный от формата)
  2. Заполнить остальные поля валидными данными
  3. Нажать кнопку "Продолжить"
     -ОР - отправка формы не состоялась, сообщение системы "Неверный формат"

4. Указан невалидный номер карты:
- Шаги:
  1. Ввести сгенерированный корректный номер карты
  2. Заполнить остальные поля валидными данными
  3. Нажать кнопку "Продолжить"
- ОР - покупка тура не совершена, сообщение системы "Ошибка! Банк отказал в проведении операции.", запись в базе данных не появилась.

5. Поле Номер карты не заполнено:
- Шаги:
  1. Оставить поле Номер карты незаполненным
  2. Заполнить остальные поля валидными данными
  3. Нажать кнопку "Продолжить"
- ОР - покупка тура не совершена, сообщение системы "Неверный формат"

6. Поле Владелец заполнено невалидными данными:
- Шаги:
  1. Ввести сгенерированное невалидное значение для поля Владелец
  2. Заполнить остальные поля валидными данными
  3. Нажать кнопку "Продолжить"
     -ОР - отправка формы не состоялась, сообщение системы "Неверный формат"

7. Поле Владелец не заполнено:
- Шаги:
  1. Оставить поле Владелец
  2. Заполнить остальные поля валидными данными
  3. Нажать кнопку "Продолжить"
     -ОР - отправка формы не состоялась, сообщение системы "Поле обязательно для заполнения"

8. Поле CVC/CVV заполнено невалидными данными:
- Шаги:
  1. Ввести невалидное значение для поля CVC/CVV
  2. Заполнить остальные поля валидными данными
  3. Нажать кнопку "Продолжить"
     -ОР - отправка формы не состоялась, сообщение системы "Неверный формат"

9. Поле CVC/CVV не заполнено:
- Шаги:
  1. Оставить поле CVC/CVV незаполненным
  2. Заполнить остальные поля валидными данными
  3. Нажать кнопку "Продолжить"
     -ОР - отправка формы не состоялась, сообщение системы "Неверный формат"

10. Поле Месяц заполнено невалидными данными:
- Шаги:
  1. Ввести в поле Месяц значение "13"
  2. Заполнить остальные поля валидными данными
  3. Нажать кнопку "Продолжить"
     -ОР - отправка формы не состоялась, сообщение системы "Неверно указан срок действия карты"

11. Поле Месяц заполнено невалидными данными:
- Шаги:
  1. Ввести в поле Месяц значение "00"
  2. Заполнить остальные поля валидными данными
  3. Нажать кнопку "Продолжить"
     -ОР - отправка формы не состоялась, сообщение системы "Неверно указан срок действия карты"

12. Поле Месяц заполнено невалидными данными:
- Шаги:
  1. Ввести в поле Месяц любой месяц, предшествующий текущему
  2. Ввести в поле Год текущий год
  3. Заполнить остальные поля валидными данными
  4. Нажать кнопку "Продолжить"
     -ОР - отправка формы не состоялась, сообщение системы "Истек срок действия карты"

13. Поле Месяц не заполнено:
- Шаги:
  1. Оставить поле Месяц незаполненным
  2. Заполнить остальные поля валидными данными
  3. Нажать кнопку "Продолжить"
     -ОР - отправка формы не состоялась, сообщение системы "Неверный формат"

14. Поле Год заполнено невалидными данными:
- Шаги:
  1. Ввести сгенерированный год более 5 лет от текущей даты
  2. Заполнить остальные поля валидными данными
  3. Нажать кнопку "Продолжить"
     -ОР - отправка формы не состоялась, сообщение системы "Неверно указан срок действия карты"

15. Поле Год не заполнено:
- Шаги:
  1. Оставить поле Год незаполненным
  2. Заполнить остальные поля валидными данными
  3. Нажать кнопку "Продолжить"
     -ОР - отправка формы не состоялась, сообщение системы "Неверный формат"

16. Поле Год заполнено невалидными данными:
- Шаги:
  1. Ввести любой предыдущий год в поле "Год"
  2. Заполнить остальные поля валидными данными
  3. Нажать кнопку "Продолжить"
     -ОР - отправка формы не состоялась, сообщение системы "Истек срок действия карты"

17. Повторное заполнение формы после отправки валидных данных
- Шаги:
  1. Заполнить все поля формы валидными данными
  2. Нажать кнопку Отправить
  3. Удалить все данные из заполненных полей
     -ОР - Сообщения об ошибках остутствуют

18. Повторное заполнение формы после отправки невалидных данных
- Шаги:
  1. Заполнить произвольное количество полей (но не меньше 1) невалидными данными
  2. Нажать кнопку Отправить
  3. Удалить все данные из заполненных полей
     -ОР - Сообщения об ошибках отсутствуют


## 2. Инструментарий

- **IntelliJ IDEA** - интегрированная среда разработки программного обеспечения
- **Java JDK 11** - язык программирования общего назначения
- **Gradle** - проект-менеджер автоматической сборки
- **JUnit5**- тестовый фреймворк
- **Selenide** - реализация взаимодействия с UI
- **Allure JUnit 5 v2.14.0** - отчетность и аналитика
- **Git** - система контроля версий ПО
- **Github Actions** - непрерывная интеграция с автоматической проверкой публикуемых билдов
- **JavaFaker** - плагин для генерации тестовых данных
- **Lombok** - плагин для замещения значительного объема функциональных строк кода, не содержащих бизнес-логики, краткими аннотациями
- **Docker** - операционная система для контейнеров
- **Docker-compose** -это инструментальное средство, входящее в состав Docker. Оно предназначено для решения задач, связанных с развёртыванием проектов
- **MySQL** -  свободная реляционная система управления базами данных
- **Postgres** - система управления реляционными базами данных (СУБД) с открытым исходным кодом

## 3. Перечень и описание возможных рисков при автоматизации

- **Вероятность падения тестов при изменении приложения и/или окружения**
- **Вероятности ошибок в коде тестов при выборе локаторов на странице ввиду отсутствия тестовых маркеров**
- **Вероятность нестабильной работы ввиду необходимости интеграции с 2мя СУБД**
- **Вероятность выявления багов в самом приложении, что усложнит и замедлит процесс написания кода автоттеста**
- **Вероятность появления необходимости корректной фиксации возникающих багов**

## 4. Перечень необходимых специалистов для автоматизации

Automation QA Engineer - 1 человек

## 5. Интервальная оценка с учётом рисков (в часах)

- 12-24 часов - подготовка тестовой среды, написание кода авто-тестов
- 4-8 часа - составление отчетности о проведении тестирования, заведение выявленных дефектов
- 24  часа - время на устранение возможных рисков
  **Итого:** 56 часа

## 6. План сдачи работ:

- Сдача и согласование с руководством плана работ до 03.09.2021
- Подготовка окружения до 06.09.2021
- Формирование проекта теста и написание кода до 09.09.2021
- Сдача отчетности до 14.09.2021